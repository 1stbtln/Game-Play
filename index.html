<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Security and viewport settings -->
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="
    default-src 'self' blob: ws: wss:;
    script-src 'self' 'unsafe-inline';
    style-src 'self' 'unsafe-inline';
    connect-src 'self' ws://localhost:* wss://localhost:* http://localhost:* https://*.freesound.org https://freesound.org https://game-play.gg;
    media-src 'self' blob: http://localhost:* https://cdn.freesound.org;
    img-src 'self' blob: data: https://*.freesound.org https://cdn.freesound.org;
">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GamePlay</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="email-popup" class="modal">
        <div class="modal-content">
          <h2 id="verificationText">Email Verification</h2>
          <p id="verificationText"></p>Please enter your email to verify your subscription:</p>
          <input type="email" id="user-email" placeholder="Enter your email" value="test@email.com"/>
          <button id="verify-email">Verify</button>
          <p id="error-message" style="color: #8cefe9; display: none;"></p>
        </div>
      </div>
      
      
      <style>
        .modal {
          display: flex;
          position: fixed;
          top: 0;
          left: 0;
          width: 100vw;
          height: 100vh;
          background-color: rgba(0, 0, 0, 0.5);
          justify-content: center;
          align-items: center;
          z-index: 5000;
        }
      
        .modal-content {
          background-color: #0c0c0c;
          padding: 20px;
          border-radius: 10px;
          text-align: center;
          width: 35%;
          height: 50%;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
        }
        
        #verificationText {
            color: #8cefe9;
        }

        .modal input {
          width: 80%;
          padding: 10px;
          margin: 10px 0;
          border: 1px solid #ccc;
          border-radius: 5px;
        }
      
        .modal button {
          padding: 10px 20px;
          background-color: #8cefe9;
          color: rgb(0, 0, 0);
          border: none;
          border-radius: 5px;
          cursor: pointer;
        }
      
        .modal button:hover {
          background-color: #0056b3;
        }
      </style>      






    <!-- Application structure -->
    <div class="app-container">

        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1 class="sideBarHeader">GamePlay</h1>
            </div>
            <nav class="sidebar-nav">
                <button data-section="montages" id="navMontages" class="nav-button">
                    <img src="./assets/montage.png" alt="Montages Icon" class="nav-icon">
                    <img src="./assets/montageActive.png" alt="Montages Icon Active" class="nav-icon-active">
                    <span class="nav-text">Montages</span>
                </button>
                <!-- Add this new button -->
                <button data-section="edit" id="navEdit" class="nav-button edit-mode-button">
                    <img src="./assets/edit.png" alt="Edit Icon" class="nav-icon">
                    <img src="./assets/editActive.png" alt="Edit Icon Active" class="nav-icon-active">
                    <span class="nav-text">Editor</span>
                </button>
                <button data-section="clips" id="navClips" class="nav-button">
                    <img src="./assets/clips.png" alt="Clips Icon" class="nav-icon">
                    <img src="./assets/clipsActive.png" alt="Clips Icon Active" class="nav-icon-active">
                    <span class="nav-text">Clips</span>
                </button>
                <button data-section="validationPhotos" id="navValidation" class="nav-button">
                    <img src="./assets/validationPhotos.png" alt="Validation Icon" class="nav-icon">
                    <img src="./assets/validationPhotosActive.png" alt="Validation Icon Active" class="nav-icon-active">
                    <span class="nav-text">Validation Photos</span>
                </button>
                <button data-section="audio" id="navAudio" class="nav-button">
                    <img src="./assets/Audio.png" alt="Audio Icon" class="nav-icon">
                    <img src="./assets/AudioActive.png" alt="Audio Icon Active" class="nav-icon-active">
                    <span class="nav-text">Audio</span>
                </button>
                <button data-section="settings" id="settingsButton" class="nav-button">
                    <img src="./assets/settings.png" alt="Settings Icon" class="nav-icon">
                    <img src="./assets/settingsActive.png" alt="Settings Icon Active" class="nav-icon-active">
                    <span class="nav-text">Settings</span>
                </button>
                <button data-section="actions" id="navActions" class="nav-button">
                    <img src="./assets/connect.png" alt="Actions Icon" class="nav-icon">
                    <img src="./assets/connectActive.png" alt="Actions Icon Active" class="nav-icon-active">
                    <span class="nav-text">Actions</span>
                </button>
            </nav>
        </aside>

        <!-- Main Workspace -->
        <main class="workspace">
            <div class="mainSection">
                <div class="primarySection">
                    <!-- Sections will be injected here -->
                </div>

                <div class="mediaSection">
                    <!-- Video Player Section -->
                    <div id="videoPlayerSection" class="video-player-section">
                        <video id="videoPlayer" controls class="video-player">
                            <source id="videoSource" src="" type="video/mp4">
                        </video>
                    </div>

                    <!-- Session Logs -->
                    <section id="logSection" class="log-section">
                        <h2>Session Logs</h2>
                        <textarea id="logOutput" readonly></textarea>
                    </section>
                </div>
            </div>
            
            <!-- Add new edit section -->
            <div class="mainEditSection" style="display: none;">
                <div class="edit-container">
                    <div class="parent1">
                        <div class="edit-preview">
                            <video id="editVideoPlayer">
                                <source id="editVideoSource" src="" type="video/mp4">
                            </video>
                        </div>
                    </div>
                    <div id="editTimelineContainer" class="edit-timeline-container"></div>
                </div>
            </div>
        </main>
    </div>
    <script type="module" src="js/main.js"></script>
    <!-- Update script imports -->
    <script type="module" src="renderer.js"></script>
</body>
</html>